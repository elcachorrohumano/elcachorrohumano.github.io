// ===========================================
// PAGE LAYOUT
// ===========================================

body
  display: flex
  flex-direction: column
  min-height: 100vh

// ===========================================
// HEADER / NAVIGATION
// ===========================================

body > header
  display: flex
  align-items: center
  justify-content: space-between
  padding: $space-md $space-xl
  background: rgba(253, 252, 250, 0.92)
  backdrop-filter: blur(12px)
  -webkit-backdrop-filter: blur(12px)
  border-bottom: 1px solid var(--border-subtle)
  position: sticky
  top: 0
  z-index: 100
  transition: background-color $transition-speed, border-color $transition-speed

[data-theme="night"] body > header
  background: rgba(20, 18, 16, 0.92)

body > header .title
  font-family: $heading-font
  font-weight: 600
  font-size: 1.125rem
  color: var(--text-primary)
  letter-spacing: -0.01em
  transition: color $transition-fast
  white-space: nowrap
  
  &:hover
    color: var(--accent-primary)

// ===========================================
// MAIN NAVIGATION
// ===========================================

nav
  display: flex
  align-items: center
  gap: $space-lg
  
nav a
  font-weight: 500
  font-size: 0.9375rem
  color: var(--text-secondary)
  transition: color $transition-fast
  position: relative
  padding: $space-xs 0
  
  &::after
    content: ''
    position: absolute
    bottom: 0
    left: 0
    right: 0
    height: 2px
    background: var(--accent-primary)
    transform: scaleX(0)
    transform-origin: center
    transition: transform $transition-fast
  
  &:hover
    color: var(--accent-primary)
    
    &::after
      transform: scaleX(1)
  
  &.selected
    color: var(--accent-primary)
    font-weight: 600
    
    &::after
      transform: scaleX(1)

// ===========================================
// THEME TOGGLE BUTTON
// ===========================================

.theme-toggle
  display: flex
  align-items: center
  justify-content: center
  width: 40px
  height: 40px
  padding: 0
  background: transparent
  border: 1px solid var(--border-subtle)
  border-radius: 8px
  cursor: pointer
  color: var(--text-tertiary)
  transition: all $transition-fast
  flex-shrink: 0
  
  &:hover
    background: var(--bg-secondary)
    border-color: var(--accent-primary)
    color: var(--accent-primary)
  
  &:focus-visible
    outline: none
    box-shadow: var(--focus-ring)

  svg
    width: 20px
    height: 20px
    display: block

// ===========================================
// MAIN CONTENT AREA
// ===========================================

article
  flex: 1
  width: 100%
  max-width: 960px
  margin: 0 auto
  padding: $space-2xl $space-xl

article > header
  margin-bottom: $space-xl
  text-align: center
  
  h1
    margin-bottom: $space-sm
    
    a
      color: inherit
      
      &:hover
        color: var(--accent-primary)

article > header time
  font-size: 0.9375rem
  color: var(--text-tertiary)

// Article separators (for blog list)
article:not(:last-of-type)
  border-bottom: 1px solid var(--border-subtle)
  padding-bottom: $space-2xl
  margin-bottom: $space-2xl

// ===========================================
// FOOTER
// ===========================================

body > footer
  background: var(--bg-secondary)
  border-top: 1px solid var(--border-subtle)
  padding: $space-2xl $space-xl
  margin-top: auto
  text-align: center
  transition: background-color $transition-speed, border-color $transition-speed

.footer-tagline
  font-size: 1rem
  color: var(--text-secondary)
  margin-bottom: $space-lg
  font-weight: 500

.footer-copyright
  font-size: 0.875rem
  color: var(--text-tertiary)
  margin-top: $space-lg

// Footer social icons
body > footer nav
  display: flex
  justify-content: center
  align-items: center
  gap: $space-md
  flex-wrap: wrap
  
body > footer nav a
  display: flex
  align-items: center
  justify-content: center
  width: 44px
  height: 44px
  color: var(--text-secondary)
  border-radius: 8px
  transition: all $transition-fast
  
  &::after
    display: none
  
  &:hover
    color: var(--accent-primary)
    background: var(--bg-elevated)
    transform: translateY(-2px)

// ===========================================
// ICONS
// ===========================================

.icon
  width: 1.25em
  height: 1.25em
  fill: currentColor
  vertical-align: middle
  flex-shrink: 0

footer .icon
  width: 1.5em
  height: 1.5em

// ===========================================
// RESPONSIVE DESIGN
// ===========================================

@media (max-width: 768px)
  body > header
    padding: $space-md $space-lg
    flex-wrap: wrap
    gap: $space-md
    
  body > header .title
    order: 1
    flex: 1
    
  .theme-toggle
    order: 2
    
  nav
    order: 3
    width: 100%
    justify-content: center
    gap: $space-md
    padding-top: $space-sm
    border-top: 1px solid var(--border-light)
    
  nav a
    font-size: 0.875rem
    
  article
    padding: $space-xl $space-lg
    
  body > footer
    padding: $space-xl $space-lg

@media (max-width: 480px)
  body > header
    padding: $space-md
    
  nav
    gap: $space-sm
    
  nav a
    font-size: 0.8125rem
    
  article
    padding: $space-lg $space-md

// ===========================================
// ANIMATION UTILITIES
// ===========================================

@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

@keyframes slideUp
  from
    opacity: 0
    transform: translateY(20px)
  to
    opacity: 1
    transform: translateY(0)

@keyframes slideInLeft
  from
    opacity: 0
    transform: translateX(-20px)
  to
    opacity: 1
    transform: translateX(0)

// Apply animations to main content
article
  animation: fadeIn 0.4s ease-out

@media (prefers-reduced-motion: reduce)
  article
    animation: none
  
  nav a::after
    transition: none
    
  .theme-toggle
    transition: none
